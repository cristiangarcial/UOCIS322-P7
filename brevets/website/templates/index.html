<!doctype html>
<html lang="en">
   <head>
      <title>ACP Controle Times</title>
      <meta charset="utf-8">
      <!-- 'viewport' is used by bootstrap to respond to device size -->
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <!-- Bootstrap includes javascript and css  (must follow jquery) -->
      <link
         rel="stylesheet"
         href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
         integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
         crossorigin="anonymous">
      <!-- Javascript:  JQuery from a content distribution network (CDN) -->
      <script
         src="https://code.jquery.com/jquery-3.5.1.min.js"
         integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
         crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
         integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
         crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
         integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF"
         crossorigin="anonymous"></script>
      <!-- moment.js is the JavaScript equivalent of arrow.py -->
      <script
      src="{{ url_for('static', filename="js/moment.min.js") }}"></script>
   </head>
   <!-- Our own stylesheet -->
   <link rel="stylesheet" href="/static/css/calc.css" />      
   <body>
      <div class="container">
         <h1>ACP Brevet Times Data Display</h1>
        
         <form role="form" >

            <div class="row">
               <div class="col-md-12">
              		<button id="listAll" name="listAll"> List All</button> 
              		<button id="listOpenOnly" name="listOpenOnly"> List Open</button>
                    <button id="listCloseOnly" name="listCloseOnly"> List Close</button>
                    <input type="checkbox" id="csv" name="csv">                    
                    <label for="csv">csv</label>
                    <br></br>
                    <label for="top" name="top"> TOP:</label>
                    <input type="text" id="top" name="top">

               </div>
            </div>
        </form>
        
         <script type="text/javascript">
            $(document).ready(function(){
             // Do the following when the page is finished loading
			//	var all = $(obj).find("input[name='ListAll']").val();
            //	var open = $(obj).find("input[name='ListOpen']").val();
           //     var close = $(obj).find("input[name='ListClose']").val();
                var csv_or_json = $("#csv_or_json").val();
                console.log(csv_or_json);
                var topk = $("#top").val();
				
                $('#listAll').click(
                    function(e) {
                    e.preventDefault();
                    
                    $.get("/listAll", {topk: topk, csv_or_json: csv_or_json}).done(
                        function(response) {
                            console.log("topk: ", topk);
                 })});
                
                $('#listOpenOnly').click(
                    function(e) {
                    e.preventDefault();
                   
                    $.get("/listOpenOnly", {topk: topk, csv_or_json: csv_or_json}).done(
                        function(response) {
                            console.log("topk: ", topk);
                 })});
                 
                 $('#listCloseOnly').click(
                    function(e) {
                    e.preventDefault();
                    
                    $.get("/listCloseOnly", {topk: topk, csv_or_json: csv_or_json}).done(
                        function(response) {
                            console.log("topk: ", topk);
                 })});
              });
         </script>
      </div>
   </body>
</html>
